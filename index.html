<!DOCTYPE HTML> 
<html> 
    <head> 
        <meta charset="utf-8">
        <title> Rock Paper Scissors </title>
        <link rel="stylesheet" href="style.css">
    </head>
    <body> 
        <script> 
            function computerPlay() {
                let computerSelection=Math.floor(Math.random() * 3)+1;
                if (computerSelection==1) {
                    return 'rock';
                } else if (computerSelection==2) {
                    return 'paper';
                }else {
                    return 'scissors';
                } 
            }
            
            function playRound(playerSelection, computerSelection){
                playerSelection = playerSelection.toLowerCase();
                if (playerSelection == computerSelection) {
                    return 'Tie! Play again!';
                } else if (playerSelection == 'rock' && computerSelection == 'paper') {
                    return 'You lose!';
                } else if (playerSelection == 'rock' && computerSelection == 'scissors') {
                    return 'You win!';
                } else if (playerSelection == 'paper' && computerSelection == 'scissors') {
                    return 'You lose!';
                } else if (playerSelection == 'paper' && computerSelection == 'rock') {
                    return 'You win!';
                } else if (playerSelection == 'scissors' && computerSelection == 'rock') {
                    return 'You lose!';
                } else if (playerSelection == 'scissors' && computerSelection == 'paper') 
                    return 'You win!';
                
            }
            let playerScore= 0;
            let computerScore= 0;
            function game() {
                for (let step = 0; step < 3; step ++) {
                let computerSelection = computerPlay()
                let tally = playRound(prompt('Do you pick rock, paper or scissors?'), computerSelection)
                if (tally.includes('win')) {
                    playerScore = playerScore+1; 
                } else if (tally.includes('lose')) {
                    computerScore = computerScore+1;
                } else if (tally.includes('tie')) {
                    playerScore = playerScore+0;
                    computerScore = computerScore+0;
                    step = step-1;
                }
                else { computerScore = computerScore+1;
                }
                console.log(tally) 
               

                }
            }
            
            game ();
            if (playerScore > computerScore){
                console.log('congrats! you beat the computer!')
            } else if (playerScore<computerScore){
                console.log('boo, you lost to a machine')
            } else {
                console.log('Draw!')
            }
        </script> 
    </body>
</html>